##### 3.ping 的工作原理

​	1.ICMP 是什么？

​	互联网控制报文协议  Internet Control Message Protocol

​	2.IP包是什么还记得吗？

​	协议中规定的传输量，如果大于就要分包---1500字节

​	3.ICMP 功能都有啥？

​		确认是否成功送达+报告失败原因+改善设置

​		怎么发送？

​		通过IP发送----例子中路由器2---路由器1----主机A

​	4.ICMP 包头格式

​		封装在IP包里

​		IP头+ICMP报文

​		1.包头类型

​		查询报文   或者  差错报文

​		2.查询报文

​		0 8 两种类型

​		8发送 0接受

​		3.差错报文

​		3---不可送达

​		4---原点抑制消息

​		5---重定向

​		11---超时消息

5.差错报文中 不可送达-3 的几种分类

​		0 网络不可达

​		找不到此IP地址	

​		1 主机不可达

​		找不到MAC地址

​		2 协议不可达

​		主机端有可能禁止TCP协议

​		3 端口不可达

​		具体的程序没有监听

​		4 设置了不可分片

​		就是只接受不分包数据 分包就直接舍弃

6.原点抑制消息 4

​		缓和拥堵情况----增大IP包的传输间隔

7.重定向消息 5

​		主机端的路径不是最优路径----返重定向

​		定向到最短路径

8.超时消息  11

​		IP 包中有一个字段叫做 TTL （ Time To Live ，生存周期），它的值随着每经过一次路由器就会减 1，直到减到 0 时该 IP 包会被丢弃。

​		如果TTL==0 返回超时消息 ----此包被抛弃

​		设置过期时间，防止无限转发

​		

